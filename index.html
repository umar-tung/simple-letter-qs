<!DOCTYPE html>
<html>    
  <script type="text/javascript">
    // Single Page Apps for GitHub Pages
    // MIT License
    // https://github.com/rafgraph/spa-github-pages
    // This script checks to see if a redirect is present in the query string,
    // converts it back into the correct url and adds it to the
    // browser's history using window.history.replaceState(...),
    // which won't cause the browser to attempt to load the new url.
    // When the single page app is loaded further down in this file,
    // the correct url will be waiting in the browser's history for
    // the single page app to route accordingly.
    (function(l) {
      if (l.search[1] === '/' ) {
        var decoded = l.search.slice(1).split('&').map(function(s) { 
          return s.replace(/~and~/g, '&')
        }).join('?');
        window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
        );
      }
    }(window.location))
  </script>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .generate-button {
      color: white;
      background-color: #007BFF;
      border: 2px solid #007BFF;
      border-radius: 8px;
      font-size: medium;
      width: auto;
      height: 2.5rem;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .generate-button:hover {
      background-color: white;
      color: #007BFF;
      border: 2px solid #007BFF;
    }

    .header-section {
      display: flex;
      justify-content: flex-start;
    }

    h1 {
      padding: 1rem;
    }

    .center {
      align-content: center;
    }

  </style>
  <body>
    <div class='header-section'>
      <h1>Letter Questions</h1>
      <div class='center'>
      <button id="redirect-button" class='generate-button'>Generate New Questions</button>
      </div>
    </div>
    <div id="questions-display"></div>
  </body>
  <script type="text/javascript">
    // this will fetch the current URL and show it
    let currentUrl = window.location.href;

    let baseUrl = "https://umar-tung.github.io/simple-letter-qs/";

    // parses for the last part of the url
    function getRelativeUrl(url, base) {
      if (!base.endsWith('/')) {
        base += '/';
      }

      if (url.startsWith(base)) {
        return url.substring(base.length)
      }

      return url;
    }
    
    let questions = [
      "A girl’s name",
      "A boy’s name",
      "Capital cities",
      "Countries",
      "Animals",
      "Musical Instruments",
      "Flowers",
      "Gemstones",
      "Cartoon Characters",
      "Four letter words",
      "Brands",
      "Things on a beach",
      "Websites",
      "Cars",
      "Things that are sticky",
      "Things that you shout",
      "Excuses for being late",
      "Pet peeves",
      "Ice cream flavors",
      "Fried foods",
      "Bodies of water",
      "Halloween costumes",
      "Places to go on a date",
      "Nicknames",
      "Job titles",
      "College majors",
      "Languages",
      "Historical figures",
      "Celebrities",
      "Holidays",
      "Items in a gift shop",
      "Things on a map",
      "Relatives",
      "Things in an office",
      "Software",
      "Fears",
      "Apps",
      "Electronic devices",
      "Movie titles",
      "Book titles",
      "Pets",
      "Musical instruments",
      "Types of music",
      "Aquatic animals",
      "Animals in a zoo",
      "Things you get in the mail",
      "Song title",
      "Vacation destination",
      "Famous animals",
      "Drinks",
      "Hobbies",
      "Things in space",
      "Types of candy",
      "Ways to get from here to there",
      "Furniture",
      "Plants",
      "Things in a museum",
      "Sports teams",
      "Extreme sports",
      "Colors",
      "Tools",
      "Dangerous activities",
      "Things you might go viral for",
      "Item within eyesight",
      "Things that are blue",
      "Body parts",
      "Expensive items",
      "Snack foods",
      "Healthy foods",
      "Animals in a zoo",
      "Something people hate doing",
      "Something that surprises you",
      "A common lie",
      "Something to strive for",
      "Awards/ceremonies",
      "Fireable offenses",
      "Random acts of kindness",
      "Four letter word (in a foreign language)",
      "TV shows",
      "Crimes",
      "Office supplies",
      "Things on your work desk",
      "Things associated with Xmas",
      "Game shows",
      "Board games",
      "Video games",
      "Superheroes",
      "Pizza toppings",
      "World cuisine",
      "Things that make you laugh",
      "Something you keep secret",
      "Things you say at work",
      "Mythical creatures",
      "“Adulting” activities",
      "Topics you like to talk about",
      "Breakfast foods",
      "Annoying movie tropes",
      "Things you see on a road trip",
      "Things you see in the news",
      "Things you find in nature",
      "Things in the sky",
      "Things on people’s bucket lists",
      "Things in an airport",
      "Villains",
      "Four syllable words",
      "Words with two meanings",
      "Good qualities for a friend",
      "Guilty pleasures",
      "Clothing",
      "Words associated with self-care",
      "Art projects",
      "Weather",
      "Things associated with summer",
      "Musicals",
      "Things you look forward to",
      "Presidents",
      "Vegetable",
      "Fruit",
      "At a hockey game",
      "Things that fly",
      "Six letter word",
      "Mountain"
    ];

    let relativeUrl = getRelativeUrl(currentUrl, baseUrl);

    let indexes = relativeUrl.split('-').map(Number);

    let displayDiv = document.getElementById('questions-display');
    indexes.forEach(function(item_index, ind) {
      let question = questions[item_index]

      if (question) {
        let questionDiv = document.createElement('div');
        questionDiv.className = 'question'
        questionDiv.textContent = `${ind+1}: ${question}`
        displayDiv.appendChild(questionDiv)
      }

    });

    document.getElementById('redirect-button').addEventListener('click', function() {

      const randomNumbers = Array.from({length: 12}, () => Math.floor(Math.random() * 123));
      const randomString = randomNumbers.join('-');

      window.location.href = baseUrl + randomString

    });
  </script>
</html>
